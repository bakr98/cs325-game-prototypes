// -- user code here --

/* --- start generated code --- */

// Generated by  1.5.0 (Phaser v2.6.2)


/**
 * TitleScreen.
 */
function TitleScreen() {
	
	Phaser.State.call(this);
	
}

/** @type Phaser.State */
var TitleScreen_proto = Object.create(Phaser.State.prototype);
TitleScreen.prototype = TitleScreen_proto;
TitleScreen.prototype.constructor = TitleScreen;

TitleScreen.prototype.init = function () {
	
};

TitleScreen.prototype.preload = function () {
	
	this.load.pack('preloader', 'assets/pack.json');
	this.load.image('title-screen', 'assets/sprites/title-screen.png');
	
};

TitleScreen.prototype.create = function () {
	var _background = this.add.tileSprite(0.0, 0.0, 320.0, 240.0, 'background', null);
	
	var _middleground = this.add.tileSprite(0.0, 0.0, 320.0, 240.0, 'middleground', null);
	
	this.add.sprite(63.0, 87.5, 'title');
	
	this.add.sprite(52.5, 202.0, 'credits-text');
	
	var _pressEnter = this.add.sprite(122.0, 176.0, 'press-enter-text');
	
	
	
	// public fields
	
	this.fBackground = _background;
	this.fMiddleground = _middleground;
	this.fPressEnter = _pressEnter;
	this.afterCreate();
	
};

/* --- end generated code --- */

TitleScreen.prototype.afterCreate = function() {
	var startKey = this.input.keyboard.addKey(Phaser.Keyboard.ENTER);
	startKey.onDown.add(this.startGame, this);
	//
	this.time.events.loop(700, this.blinkText, this);
};

TitleScreen.prototype.startGame = function() {
	this.state.start("Level");
};

TitleScreen.prototype.blinkText = function() {
	if (this.fPressEnter.alpha) {
		this.fPressEnter.alpha = 0;
	} else {
		this.fPressEnter.alpha = 1;
	}
};

TitleScreen.prototype.update = function() {
	this.fBackground.tilePosition.x -= 0.25;
	this.fMiddleground.tilePosition.x -= 0.4;
};
